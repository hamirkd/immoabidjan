"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[646],{4646:(J,g,r)=>{r.r(g),r.d(g,{DashboardModule:()=>$});var f=r(9808),t=r(5e3),x=r(1282),h=r(876),v=r(2301);let T=(()=>{class e{constructor(i){this._requeteService=i,this.data=[],this.listSelectOptionGroupBy=[{label:"",value:"",optionQuery:null}],this.barChartLabels=[],this.pieChartOptions={responsive:!0,plugins:{legend:{display:!1,position:"top"},datalabels:{formatter:(n,o)=>{if(o.chart.data.labels)return o.chart.data.labels[o.dataIndex]}}}},this.pieChartData={labels:[],datasets:[{data:[]}]},this.pieChartType="pie",this.pieChartPlugins=[x.Z]}ngOnInit(){this._requeteService.findBy({}).subscribe(i=>{this.data=i,console.log(i),this.groupeByGroupeIndicateur()})}groupeByGroupeIndicateur(){var i;this.pieChartData.datasets=[];let n=[];if(this.listSelectOptionGroupBy.length>0){this.data.forEach(l=>{let d=n.findIndex(s=>{let c=0;return this.listSelectOptionGroupBy.forEach(m=>{l[m.optionQuery]===s[m.optionQuery]&&c++}),c>=this.listSelectOptionGroupBy.length});d<0?(l.sousgroup=[l],n.push(l)):n[d].sousgroup.push(l)});let o=[],p="groupe";this.data.sort((l,d)=>l[p]>d[p]?1:-1),this.data.forEach(l=>{o.findIndex(s=>s==l[p])<0&&o.push(l[p])}),o.sort((l,d)=>l>d?1:-1),n.forEach(l=>{let d="";this.listSelectOptionGroupBy.forEach(c=>{d=d+l[c.value]+" "});let s=[];o.forEach(c=>{if(l.sousgroup){let m=l.sousgroup.findIndex(F=>F[p]==c);s.push(m>-1?l.sousgroup[m].indice:null)}}),this.barChartLabels=[],this.barChartLabels.push(...o),this.pieChartData.datasets.push({data:s,label:d})}),this.pieChartData.labels=this.barChartLabels,null===(i=this.chart)||void 0===i||i.update()}}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(v.P))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pie-chart"]],viewQuery:function(i,n){if(1&i&&t.Gf(h.jh,5),2&i){let o;t.iGM(o=t.CRH())&&(n.chart=o.first)}},inputs:{data:"data"},decls:4,vars:4,consts:[[1,"flex","pl-10","pr-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"w-2/3"],["baseChart","",1,"",3,"data","type","options","plugins"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"canvas",3),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("data",n.pieChartData)("type",n.pieChartType)("options",n.pieChartOptions)("plugins",n.pieChartPlugins))},directives:[h.jh],styles:[""]}),e})();var u=r(4999),Z=r(6758),C=r(7238);function b(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," No. "),t.qZA())}function _(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij("",i.id," ")}}function y(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Groupe "),t.qZA())}function A(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",null==i.groupe?null:i.groupe.libelle,"")}}function U(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Indicateur "),t.qZA())}function q(e,a){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&e){const i=a.$implicit;t.s9C("matTooltip",i.intitule),t.xp6(1),t.hij(" ",t.Dn7(2,2,null==i.indicateur?null:i.indicateur.intitule,0,50),"")}}function D(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Localisation "),t.qZA())}function w(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",null==i.localisation?null:i.localisation.libelle," ")}}function Y(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Niveau "),t.qZA())}function N(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",null==i.niveau?null:i.niveau.libelle," ")}}function B(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Annee "),t.qZA())}function Q(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.annee," ")}}function j(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Indice "),t.qZA())}function O(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",i.indice," ")}}function S(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1," Creation"),t.qZA())}function G(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i.created_at,"dd/MM/YYYY")," ")}}function E(e,a){1&e&&t._UZ(0,"tr",17)}function I(e,a){1&e&&t._UZ(0,"tr",18)}let L=(()=>{class e{constructor(i){this._donneeService=i,this.dataSource=new u.by([]),this.isLoading=!1,this.displayedColumns=["id","groupe","indicateur","niveau","localisation","annee","indice","creation"]}ngOnInit(){this._donneeService.getAllPaginate(10,0).subscribe(i=>{this.dataSource.data=i.data},i=>{})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(Z.q))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-table"]],viewQuery:function(i,n){if(1&i&&t.Gf(u.BZ,5),2&i){let o;t.iGM(o=t.CRH())&&(n.table=o.first)}},decls:27,vars:3,consts:[["mat-table","",1,"mat-elevation-z1","w-full",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","groupe"],["matColumnDef","indicateur"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","localisation"],["matColumnDef","niveau"],["matColumnDef","annee"],["matColumnDef","indice"],["matColumnDef","creation"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,b,2,0,"th",2),t.YNc(3,_,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,y,2,0,"th",2),t.YNc(6,A,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,U,2,0,"th",2),t.YNc(9,q,3,6,"td",6),t.BQk(),t.ynx(10,7),t.YNc(11,D,2,0,"th",2),t.YNc(12,w,2,1,"td",3),t.BQk(),t.ynx(13,8),t.YNc(14,Y,2,0,"th",2),t.YNc(15,N,2,1,"td",3),t.BQk(),t.ynx(16,9),t.YNc(17,B,2,0,"th",2),t.YNc(18,Q,2,1,"td",3),t.BQk(),t.ynx(19,10),t.YNc(20,j,2,0,"th",2),t.YNc(21,O,2,1,"td",3),t.BQk(),t.ynx(22,11),t.YNc(23,S,2,0,"th",2),t.YNc(24,G,3,4,"td",3),t.BQk(),t.YNc(25,E,1,0,"tr",12),t.YNc(26,I,1,0,"tr",13),t.qZA()),2&i&&(t.Q6J("dataSource",n.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},directives:[u.BZ,u.w1,u.fO,u.ge,u.Dz,u.ev,C.gM,u.as,u.XQ,u.nj,u.Gk],pipes:[f.OU,f.uU],styles:[""]}),e})(),H=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:67,vars:0,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","border-t","-mt-px","pt-4"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","min-w-0","sm:pt-6","p-6"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"flex","flex-col","items-center","mt-3"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-blue-500"],[1,"text-lg","font-medium","text-blue-600","dark:text-blue-500"],[1,"flex","items-baseline","justify-center","w-full","mt-5","text-secondary"],[1,"text-md","font-medium","truncate"],[1,"ml-1.5","text-lg","font-semibold"],[1,"flex","flex-col","items-center","mt-2"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-red-500"],[1,"text-lg","font-medium","text-red-600","dark:text-red-500"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-amber-500"],[1,"text-lg","font-medium","text-amber-600","dark:text-amber-500"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-green-500"],[1,"text-lg","font-medium","text-green-600","dark:text-green-500"],[1,"grid","grid-cols-1","sm:grid-cols-6","gap-6","w-full","min-w-0","sm:pt-6","p-6","flex-col"],[1,"sm:col-span-3","lg:col-span-4","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","flex-col","flex-auto"],[1,"sm:col-span-6","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7,"Nombre d'indicateur"),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8),t._uU(10,"8"),t.qZA(),t.TgZ(11,"div",9),t._uU(12,"indicateurs"),t.qZA(),t.TgZ(13,"div",10)(14,"div",11),t._uU(15,"Renseign\xe9 :"),t.qZA(),t.TgZ(16,"div",12),t._uU(17,"5"),t.qZA()()()(),t.TgZ(18,"div",4)(19,"div",5)(20,"div",6),t._uU(21,"Localit\xe9 de collecte"),t.qZA()(),t.TgZ(22,"div",13)(23,"div",14),t._uU(24,"2"),t.qZA(),t.TgZ(25,"div",15),t._uU(26,"Communes"),t.qZA(),t._UZ(27,"div",10),t.qZA()(),t.TgZ(28,"div",4)(29,"div",5)(30,"div",6),t._uU(31,"Indicateurs calcul\xe9s"),t.qZA()(),t.TgZ(32,"div",13)(33,"div",16),t._uU(34,"515"),t.qZA(),t.TgZ(35,"div",17),t._uU(36,"donn\xe9es collect\xe9es"),t.qZA(),t.TgZ(37,"div",10)(38,"div",11),t._uU(39,"Calcul d'aujourd'hui:"),t.qZA(),t.TgZ(40,"div",12),t._uU(41,"19"),t.qZA()()()(),t.TgZ(42,"div",4)(43,"div",5)(44,"div",6),t._uU(45,"Nombre de visiteur total"),t.qZA()(),t.TgZ(46,"div",13)(47,"div",18),t._uU(48,"4001"),t.qZA(),t.TgZ(49,"div",19),t._uU(50,"visiteur"),t.qZA(),t.TgZ(51,"div",10)(52,"div",11),t._uU(53,"Visiteur d'aujourd'hui :"),t.qZA(),t.TgZ(54,"div",12),t._uU(55,"16"),t.qZA()()()()(),t.TgZ(56,"div",20)(57,"div",21)(58,"div",6),t._uU(59,"Repartition des indicateurs par groupe"),t.qZA(),t.TgZ(60,"div",22),t._UZ(61,"app-pie-chart"),t.qZA()(),t.TgZ(62,"div",23)(63,"div",6),t._uU(64,"Les 10 derniers indicateurs calcul\xe9s"),t.qZA(),t.TgZ(65,"div",24),t._UZ(66,"app-table"),t.qZA()()()()()())},directives:[T,L],styles:[""]}),e})();var k=r(4521),z=r(7694),M=r(6688),P=r(7e3);const R=[{path:"",component:H}];let $=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.ez,k.Bz.forChild(R),z.m,M.Hi,P.X,h.vQ]]}),e})()}}]);