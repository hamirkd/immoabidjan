"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[662],{4662:(z,h,n)=>{n.r(h),n.d(h,{DesagregationGeographiqueModule:()=>O});var c=n(9808),r=n(3075),l=n(4999),s=n(8966);class v{constructor(i){this.id=i.id,this.libelle=i.libelle,this.niveau_localisation_id=i.niveau_localisation_id,this.lat=i.lat,this.lon=i.lon,this.createdAt=i.createdAt,this.createdBy=i.createdBy,this.updatedAt=i.updatedAt,this.updatedBy=i.updatedBy}}var e=n(5e3),f=n(7255),C=n(3703),m=n(7322),D=n(4107),x=n(508),_=n(7531),q=n(7423);function G(t,i){if(1&t&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.libelle)}}let Z=(()=>{class t{constructor(o,a,u,g,p){this._formBuilder=o,this._data=a,this.matDialogRef=u,this._desagregationGeographiqueService=g,this._niveauLocalisationService=p,this.action="new",this.formFieldHelpers=[""],this.listeNiveau=[],this.action=a.action,this.desagregationGeographique=new v(a.desagregationGeographique),this.desagregationGeographiqueForm=this.createDesagregationGeographiqueForm()}ngOnInit(){this._niveauLocalisationService.getAll().subscribe(o=>{this.listeNiveau=o})}createDesagregationGeographiqueForm(){return this._formBuilder.group({id:[this.desagregationGeographique.id],libelle:[this.desagregationGeographique.libelle],lat:[this.desagregationGeographique.lat],lon:[this.desagregationGeographique.lon],niveau_localisation_id:[this.desagregationGeographique.niveau_localisation_id]})}onSubmit(){if("new"==this.action){let o=this.desagregationGeographiqueForm.getRawValue();this._desagregationGeographiqueService.add(o).subscribe(a=>{console.log(a),this.matDialogRef.close(this.desagregationGeographiqueForm)},a=>{console.log(a)})}else this._desagregationGeographiqueService.update(this.desagregationGeographiqueForm.getRawValue()).subscribe(o=>{console.log(o),this.matDialogRef.close(this.desagregationGeographiqueForm)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(s.WI),e.Y36(s.so),e.Y36(f.I),e.Y36(C.l))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-desagregation-geographique"]],inputs:{name:"name"},decls:29,vars:9,consts:[["mat-dialog-title",""],[1,"sm:p-6","w-200"],[1,"",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-1/3","pr-1"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"w-2/3","pr-1"],["matInput","","required","",3,"formControlName"],["matInput","","type","number",3,"formControlName"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-button","",3,"disabled","click"],[3,"value"]],template:function(o,a){1&o&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Niveau"),e.qZA(),e.TgZ(9,"mat-select",6),e.YNc(10,G,2,2,"mat-option",7),e.qZA()(),e.TgZ(11,"mat-form-field",8)(12,"mat-label"),e._uU(13,"Libelle"),e.qZA(),e._UZ(14,"input",9),e.qZA()(),e.TgZ(15,"div",4)(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Longitude"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",5)(21,"mat-label"),e._uU(22,"Latitude"),e.qZA(),e._UZ(23,"input",10),e.qZA()()()()(),e.TgZ(24,"mat-dialog-actions",11)(25,"button",12),e._uU(26,"Annuler"),e.qZA(),e.TgZ(27,"button",13),e.NdJ("click",function(){return a.onSubmit()}),e._uU(28),e.qZA()()),2&o&&(e.xp6(1),e.Oqu("new"==a.action?"Ajouter un desagregation geographique":"Modifier la desagregation geographique "+a.desagregationGeographique.libelle),e.xp6(2),e.Q6J("formGroup",a.desagregationGeographiqueForm),e.xp6(6),e.Q6J("formControlName","niveau_localisation_id"),e.xp6(1),e.Q6J("ngForOf",a.listeNiveau),e.xp6(4),e.Q6J("formControlName","libelle"),e.xp6(5),e.Q6J("formControlName","lon"),e.xp6(4),e.Q6J("formControlName","lat"),e.xp6(4),e.Q6J("disabled",!a.desagregationGeographiqueForm.valid),e.xp6(1),e.hij(" ","new"==a.action?"Enregister":"Modifier",""))},directives:[s.uh,s.xY,r._Y,r.JL,r.sg,m.KE,m.hX,D.gD,r.Q7,r.JJ,r.u,c.sg,x.ey,_.Nt,r.Fj,r.wV,s.H8,q.lW,s.ZT],styles:[""]}),t})();var d=n(4521),T=n(5245);function A(t,i){1&t&&(e.TgZ(0,"th",31),e._uU(1," No. "),e.qZA())}function b(t,i){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij("",o.id," ")}}function w(t,i){1&t&&(e.TgZ(0,"th",31),e._uU(1," Niveau "),e.qZA())}function N(t,i){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",null==o.niveau?null:o.niveau.libelle,"")}}function U(t,i){1&t&&(e.TgZ(0,"th",31),e._uU(1," Libelle "),e.qZA())}function y(t,i){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.libelle,"")}}function Y(t,i){1&t&&(e.TgZ(0,"th",31),e._uU(1," Longitude "),e.qZA())}function J(t,i){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.lon," ")}}function Q(t,i){1&t&&(e.TgZ(0,"th",31),e._uU(1," Latitude "),e.qZA())}function S(t,i){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.lat," ")}}function F(t,i){1&t&&(e.TgZ(0,"th",31),e._uU(1," Creation"),e.qZA())}function j(t,i){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,o.created_at,"dd/MM/YYYY")," ")}}function B(t,i){1&t&&(e.TgZ(0,"th",31),e._uU(1," Actions "),e.qZA())}function I(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"td",33)(1,"button",34),e.NdJ("click",function(){const g=e.CHM(o).$implicit;return e.oxw().editer(g)}),e._UZ(2,"mat-icon",35),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){const g=e.CHM(o).$implicit;return e.oxw().supprimer(g)}),e._UZ(4,"mat-icon",36),e.qZA()()}}function k(t,i){1&t&&e._UZ(0,"tr",37)}function L(t,i){1&t&&e._UZ(0,"tr",38)}const M=function(){return["/desagregation-geographique"]};let R=(()=>{class t{constructor(o,a){this._matDialog=o,this._desagregationGeographiqueService=a,this.searchControl=new r.NI,this.dataSource=new l.by,this.displayedColumns=["id","niveau","libelle","lon","lat","creation","actions"]}recherche(o){o=(o=o.trim()).toLowerCase(),this.dataSource.filter=o}ngOnInit(){this._updateDataSource()}_updateDataSource(){this._desagregationGeographiqueService.getAll().subscribe(o=>{this.dataSource.data=o})}editer(o){this.dialogRef=this._matDialog.open(Z,{panelClass:"",data:{desagregationGeographique:o,action:"edit"}}),this.dialogRef.afterClosed().subscribe(a=>{!a||this._updateDataSource()})}ajouter(){this.dialogRef=this._matDialog.open(Z,{panelClass:"",data:{desagregationGeographique:{},action:"new"}}),this.dialogRef.afterClosed().subscribe(o=>{!o||this._updateDataSource()})}supprimer(){}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.uw),e.Y36(f.I))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-desagregation-geographique"]],decls:49,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","pr-6","pl-6","pt-1","pb-1","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLinkActive","router-link-active",1,"whitespace-nowrap","text-primary-500",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-default-500"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","w-full","min-w-0"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-1/3"],["matInput","",3,"formControl","placeholder","ngModelChange"],[1,"w-2/3","text-right","items-center"],["mat-stroked-button","",1,"shadow","rounded-2xl","overflow-hidden","cursor-pointer","mt-2","ml-2","bg-card","bg-red-900",3,"click"],["svgIcon","iconsmind:add",2,"color","white"],[1,"ml-0","cursor-pointer",2,"color","white"],["mat-table","",1,"mat-elevation-z1","w-full",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","niveau"],["matColumnDef","libelle"],["matColumnDef","lon"],["matColumnDef","lat"],["matColumnDef","creation"],["matColumnDef","actions"],["mat-cell","","class","text-justify",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"text-justify"],["mat-icon-button","",1,"hidden","sm:inline-flex","ml-3",3,"click"],["svgIcon","heroicons_solid:pencil"],["svgIcon","heroicons_solid:x"],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Desagregation Geographique"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Desagregation Geographique"),e.qZA()()()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),e._uU(17,"Rechercher"),e.qZA(),e.TgZ(18,"input",13),e.NdJ("ngModelChange",function(g){return a.recherche(g)}),e.qZA()(),e.TgZ(19,"div",14)(20,"button",15),e.NdJ("click",function(){return a.ajouter()}),e._UZ(21,"mat-icon",16),e._uU(22," \xa0 "),e.TgZ(23,"label",17),e._uU(24,"Ajouter"),e.qZA()()()(),e.TgZ(25,"table",18),e.ynx(26,19),e.YNc(27,A,2,0,"th",20),e.YNc(28,b,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,w,2,0,"th",20),e.YNc(31,N,2,1,"td",21),e.BQk(),e.ynx(32,23),e.YNc(33,U,2,0,"th",20),e.YNc(34,y,2,1,"td",21),e.BQk(),e.ynx(35,24),e.YNc(36,Y,2,0,"th",20),e.YNc(37,J,2,1,"td",21),e.BQk(),e.ynx(38,25),e.YNc(39,Q,2,0,"th",20),e.YNc(40,S,2,1,"td",21),e.BQk(),e.ynx(41,26),e.YNc(42,F,2,0,"th",20),e.YNc(43,j,3,4,"td",21),e.BQk(),e.ynx(44,27),e.YNc(45,B,2,0,"th",20),e.YNc(46,I,5,0,"td",28),e.BQk(),e.YNc(47,k,1,0,"tr",29),e.YNc(48,L,1,0,"tr",30),e.qZA()()()()()),2&o&&(e.xp6(5),e.Q6J("routerLink",e.DdM(7,M)),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(10),e.Q6J("formControl",a.searchControl)("placeholder","Search for a page or a contact"),e.xp6(7),e.Q6J("dataSource",a.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns))},directives:[d.yS,d.Od,T.Hw,m.KE,m.hX,_.Nt,r.Fj,r.JJ,r.oH,q.lW,l.BZ,l.w1,l.fO,l.ge,l.Dz,l.ev,l.as,l.XQ,l.nj,l.Gk],pipes:[c.uU],styles:[""]}),t})();var H=n(7694);const $=[{path:"",component:R}];let O=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,d.Bz.forChild($),H.m]]}),t})()}}]);