"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[503],{6758:(T,m,a)=>{a.d(m,{q:()=>l});var u=a(5e3),r=a(5384);let l=(()=>{class s{constructor(e){this.apiService=e}getAll(){return this.apiService.get("api/donnee")}getAllPaginate(e,p){return this.apiService.get("api/donnee/paginate/"+e+"/"+p)}get(e){return this.apiService.get("api/donnee/"+e)}add(e){return this.apiService.post("api/donnee",e)}update(e){return this.apiService.put("api/donnee/"+e.id,e)}delete(e){return this.apiService.delete("api/donnee/"+e.id)}}return s.\u0275fac=function(e){return new(e||s)(u.LFG(r.s))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},3503:(T,m,a)=>{a.r(m),a.d(m,{DonneeModule:()=>ae});var u=a(9808),r=a(4999),l=a(3075),s=a(8966);class f{constructor(i){this.id=i.id,this.indicateur_id=i.indicateur_id,this.indicateur=i.indicateur,this.groupe_id=i.groupe_id,this.groupe=i.groupe,this.niveau_localisation_id=i.niveau_localisation_id,this.niveau=i.niveau,this.desagregation_geographique_id=i.desagregation_geographique_id,this.localisation=i.localisation,this.annee=i.annee,this.indice=i.indice,this.createdAt=i.createdAt,this.UpdatedAt=i.UpdatedAt,this.createdBy=i.createdBy,this.UpdatedBy=i.UpdatedBy}}var e=a(5e3),p=a(6758),A=a(3934),x=a(6978),S=a(7255),U=a(3703),g=a(7322),N=a(4107),b=a(508),Z=a(7531),C=a(7423);function q(n,i){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function Y(n,i){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.intitule)}}function w(n,i){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function y(n,i){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}let h=(()=>{class n{constructor(t,o,c,d,v,le,re,se){this._formBuilder=t,this._data=o,this.matDialogRef=c,this._donneeService=d,this._groupeService=v,this._indicateurService=le,this._desagregationGeographiqueService=re,this._niveauLocalisationService=se,this.action="new",this.formFieldHelpers=[""],this.listeGroupe=[],this.listeIndicateur=[],this.listeLocalisation=[],this.listeNiveau=[],this.action=o.action,this.donnee=new f(o.donnee),this.donneeForm=this.createDonneeForm()}ngOnInit(){this._groupeService.getAll().subscribe(t=>{this.listeGroupe=t}),this._indicateurService.getAll().subscribe(t=>{this.listeIndicateur=t}),this._desagregationGeographiqueService.getAll().subscribe(t=>{this.listeLocalisation=t}),this._niveauLocalisationService.getAll().subscribe(t=>{this.listeNiveau=t})}createDonneeForm(){return this._formBuilder.group({id:[this.donnee.id],groupe_id:[this.donnee.groupe_id],indicateur_id:[this.donnee.indicateur_id],annee:[this.donnee.annee],niveau_localisation_id:[this.donnee.niveau_localisation_id],desagregation_geographique_id:[this.donnee.desagregation_geographique_id],indice:[this.donnee.indice]})}onSubmit(){if("new"==this.action){let t=this.donneeForm.getRawValue();this._donneeService.add(t).subscribe(o=>{console.log(o),this.matDialogRef.close(this.donneeForm)},o=>{console.log(o)})}else this._donneeService.update(this.donneeForm.getRawValue()).subscribe(t=>{console.log(t),this.matDialogRef.close(this.donneeForm)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(s.WI),e.Y36(s.so),e.Y36(p.q),e.Y36(A.p),e.Y36(x.U),e.Y36(S.I),e.Y36(U.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-donnees"]],inputs:{name:"name"},decls:41,vars:14,consts:[["mat-dialog-title",""],[1,"sm:p-6","w-200"],[1,"",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-1/2","pr-1"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["required","",3,"formControlName"],["matInput","","required","","type","number","required","",3,"formControlName"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-button","",3,"disabled","click"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Groupe"),e.qZA(),e.TgZ(9,"mat-select",6),e.YNc(10,q,2,2,"mat-option",7),e.qZA()(),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Indicateur"),e.qZA(),e.TgZ(14,"mat-select",8),e.YNc(15,Y,2,2,"mat-option",7),e.qZA()()(),e.TgZ(16,"div",4)(17,"mat-form-field",5)(18,"mat-label"),e._uU(19,"Niveau"),e.qZA(),e.TgZ(20,"mat-select",8),e.YNc(21,w,2,2,"mat-option",7),e.qZA()(),e.TgZ(22,"mat-form-field",5)(23,"mat-label"),e._uU(24,"Localisation"),e.qZA(),e.TgZ(25,"mat-select",6),e.YNc(26,y,2,2,"mat-option",7),e.qZA()()(),e.TgZ(27,"div",4)(28,"mat-form-field",5)(29,"mat-label"),e._uU(30,"Annee"),e.qZA(),e._UZ(31,"input",9),e.qZA(),e.TgZ(32,"mat-form-field",5)(33,"mat-label"),e._uU(34,"Indice"),e.qZA(),e._UZ(35,"input",9),e.qZA()()()()(),e.TgZ(36,"mat-dialog-actions",10)(37,"button",11),e._uU(38,"Annuler"),e.qZA(),e.TgZ(39,"button",12),e.NdJ("click",function(){return o.onSubmit()}),e._uU(40),e.qZA()()),2&t&&(e.xp6(1),e.Oqu("new"==o.action?"Ajouter un donnee":"Modifier l'donnee "+o.donnee.id),e.xp6(2),e.Q6J("formGroup",o.donneeForm),e.xp6(6),e.Q6J("formControlName","groupe_id"),e.xp6(1),e.Q6J("ngForOf",o.listeGroupe),e.xp6(4),e.Q6J("formControlName","indicateur_id"),e.xp6(1),e.Q6J("ngForOf",o.listeIndicateur),e.xp6(5),e.Q6J("formControlName","niveau_localisation_id"),e.xp6(1),e.Q6J("ngForOf",o.listeNiveau),e.xp6(4),e.Q6J("formControlName","desagregation_geographique_id"),e.xp6(1),e.Q6J("ngForOf",o.listeLocalisation),e.xp6(5),e.Q6J("formControlName","annee"),e.xp6(4),e.Q6J("formControlName","indice"),e.xp6(4),e.Q6J("disabled",!o.donneeForm.valid),e.xp6(1),e.hij(" ","new"==o.action?"Enregister":"Modifier",""))},directives:[s.uh,s.xY,l._Y,l.JL,l.sg,g.KE,g.hX,N.gD,l.JJ,l.u,u.sg,b.ey,l.Q7,Z.Nt,l.wV,l.Fj,s.H8,C.lW,s.ZT],styles:[""]}),n})();var D=a(6087),_=a(4521),Q=a(5245),J=a(7238);function I(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," No. "),e.qZA())}function F(n,i){if(1&n&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij("",t.id," ")}}function O(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," Groupe "),e.qZA())}function B(n,i){if(1&n&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t.groupe?null:t.groupe.libelle,"")}}function M(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," Indicateur "),e.qZA())}function j(n,i){if(1&n&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&n){const t=i.$implicit;e.s9C("matTooltip",t.intitule),e.xp6(1),e.hij(" ",e.Dn7(2,2,null==t.indicateur?null:t.indicateur.intitule,0,50),"")}}function L(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," Localisation "),e.qZA())}function z(n,i){if(1&n&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t.localisation?null:t.localisation.libelle," ")}}function R(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," Niveau "),e.qZA())}function G(n,i){if(1&n&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t.niveau?null:t.niveau.libelle," ")}}function $(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," Annee "),e.qZA())}function k(n,i){if(1&n&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.annee," ")}}function H(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," Indice "),e.qZA())}function P(n,i){if(1&n&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.indice," ")}}function E(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," Creation"),e.qZA())}function W(n,i){if(1&n&&(e.TgZ(0,"td",38),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.created_at,"dd/MM/YYYY")," ")}}function X(n,i){1&n&&(e.TgZ(0,"th",37),e._uU(1," Actions "),e.qZA())}function K(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"td",40)(1,"button",41),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().editer(d)}),e._UZ(2,"mat-icon",42),e.qZA(),e.TgZ(3,"button",41),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().supprimer(d)}),e._UZ(4,"mat-icon",43),e.qZA()()}}function V(n,i){1&n&&e._UZ(0,"tr",44)}function ee(n,i){1&n&&e._UZ(0,"tr",45)}const te=function(){return["/donnee"]};let ne=(()=>{class n{constructor(t,o){this._matDialog=t,this._donneeService=o,this.searchControl=new l.NI,this.dataSource=new r.by([]),this.isLoading=!1,this.totalRows=0,this.pageSize=10,this.currentPage=0,this.pageSizeOptions=[5,10,25,50,100,500],this.displayedColumns=["id","groupe","indicateur","niveau","localisation","annee","indice","creation","actions"]}ngAfterViewInit(){this.dataSource.paginator=this.paginator}recherche(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t}ngOnInit(){this._updateDataSource()}_updateDataSource(){this._donneeService.getAllPaginate(this.pageSize,this.currentPage).subscribe(t=>{this.dataSource.data=t.data,setTimeout(()=>{this.paginator.pageIndex=this.currentPage,this.paginator.length=t.total},1)},t=>{})}editer(t){this.dialogRef=this._matDialog.open(h,{panelClass:"",disableClose:!0,data:{donnee:t,action:"edit"}}),this.dialogRef.afterClosed().subscribe(o=>{!o||this._updateDataSource()})}ajouter(){this.dialogRef=this._matDialog.open(h,{panelClass:"",disableClose:!0,data:{donnee:{},action:"new"}}),this.dialogRef.afterClosed().subscribe(t=>{!t||this._updateDataSource()})}supprimer(t){this._donneeService.delete(t).subscribe(o=>{this._updateDataSource()})}pageChanged(t){console.log({event:t}),this.pageSize=t.pageSize,this.currentPage=t.pageIndex,this._updateDataSource()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.uw),e.Y36(p.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-donnees"]],viewQuery:function(t,o){if(1&t&&(e.Gf(D.NW,5),e.Gf(r.BZ,5)),2&t){let c;e.iGM(c=e.CRH())&&(o.paginator=c.first),e.iGM(c=e.CRH())&&(o.table=c.first)}},decls:58,vars:12,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","pr-6","pl-6","pt-1","pb-1","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLinkActive","router-link-active",1,"whitespace-nowrap","text-primary-500",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-default-500"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","w-full","min-w-0"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-1/3"],["matInput","",3,"formControl","placeholder","ngModelChange"],[1,"w-2/3","text-right","items-center"],["mat-stroked-button","",1,"shadow","rounded-2xl","overflow-hidden","cursor-pointer","mt-2","ml-2","bg-card","bg-red-900",3,"click"],["svgIcon","iconsmind:add",2,"color","white"],[1,"ml-0","cursor-pointer",2,"color","white"],["mat-table","",1,"mat-elevation-z1","w-full",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","groupe"],["matColumnDef","indicateur"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","localisation"],["matColumnDef","niveau"],["matColumnDef","annee"],["matColumnDef","indice"],["matColumnDef","creation"],["matColumnDef","actions"],["mat-cell","","class","text-justify",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"w-full"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],["mat-cell","",1,"text-justify"],["mat-icon-button","",1,"hidden","sm:inline-flex","ml-3",3,"click"],["svgIcon","heroicons_solid:pencil"],["svgIcon","heroicons_solid:x"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Donnee"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Donnee"),e.qZA()()()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),e._uU(17,"Rechercher"),e.qZA(),e.TgZ(18,"input",13),e.NdJ("ngModelChange",function(d){return o.recherche(d)}),e.qZA()(),e.TgZ(19,"div",14)(20,"button",15),e.NdJ("click",function(){return o.ajouter()}),e._UZ(21,"mat-icon",16),e._uU(22," \xa0 "),e.TgZ(23,"label",17),e._uU(24,"Ajouter"),e.qZA()()()(),e.TgZ(25,"table",18),e.ynx(26,19),e.YNc(27,I,2,0,"th",20),e.YNc(28,F,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,O,2,0,"th",20),e.YNc(31,B,2,1,"td",21),e.BQk(),e.ynx(32,23),e.YNc(33,M,2,0,"th",20),e.YNc(34,j,3,6,"td",24),e.BQk(),e.ynx(35,25),e.YNc(36,L,2,0,"th",20),e.YNc(37,z,2,1,"td",21),e.BQk(),e.ynx(38,26),e.YNc(39,R,2,0,"th",20),e.YNc(40,G,2,1,"td",21),e.BQk(),e.ynx(41,27),e.YNc(42,$,2,0,"th",20),e.YNc(43,k,2,1,"td",21),e.BQk(),e.ynx(44,28),e.YNc(45,H,2,0,"th",20),e.YNc(46,P,2,1,"td",21),e.BQk(),e.ynx(47,29),e.YNc(48,E,2,0,"th",20),e.YNc(49,W,3,4,"td",21),e.BQk(),e.ynx(50,30),e.YNc(51,X,2,0,"th",20),e.YNc(52,K,5,0,"td",31),e.BQk(),e.YNc(53,V,1,0,"tr",32),e.YNc(54,ee,1,0,"tr",33),e.qZA(),e.TgZ(55,"div",34)(56,"mat-paginator",35,36),e.NdJ("page",function(d){return o.pageChanged(d)}),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLink",e.DdM(11,te)),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(10),e.Q6J("formControl",o.searchControl)("placeholder","Search for a page or a contact"),e.xp6(7),e.Q6J("dataSource",o.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(2),e.Q6J("length",o.totalRows)("pageIndex",o.currentPage)("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions))},directives:[_.yS,_.Od,Q.Hw,g.KE,g.hX,Z.Nt,l.Fj,l.JJ,l.oH,C.lW,r.BZ,r.w1,r.fO,r.ge,r.Dz,r.ev,J.gM,r.as,r.XQ,r.nj,r.Gk,D.NW],pipes:[u.OU,u.uU],styles:[""]}),n})();var ie=a(7694);const oe=[{path:"",component:ne},{path:"add",component:h}];let ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,_.Bz.forChild(oe),ie.m]]}),n})()}}]);