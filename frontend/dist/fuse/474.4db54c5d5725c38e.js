"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[474],{2474:(W,_,l)=>{l.r(_),l.d(_,{IndicateurModule:()=>X});var m=l(9808),a=l(3075),r=l(4999),c=l(8966);class x{constructor(i){this.id=i.id,this.groupe_id=i.groupe_id,this.intitule=i.intitule,this.code=i.code,this.groupe=i.groupe,this.definition=i.definition,this.mode_de_collecte=i.mode_de_collecte,this.source_de_donnee=i.source_de_donnee,this.mode_de_calcule=i.mode_de_calcule}}var e=l(5e3),h=l(6978),T=l(3934),s=l(7322),A=l(4107),v=l(508),g=l(7531),C=l(7423);function I(t,i){if(1&t&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.libelle)}}let Z=(()=>{class t{constructor(o,n,u,d,f){this._formBuilder=o,this._data=n,this.matDialogRef=u,this._indicateurService=d,this._groupeService=f,this.action="new",this.formFieldHelpers=[""],this.listeGroupe=[],this.action=n.action,this.indicateur=new x(n.indicateur),this.indicateurForm=this.createIndicateurForm()}ngOnInit(){this._groupeService.getAll().subscribe(o=>{this.listeGroupe=o})}createIndicateurForm(){return this._formBuilder.group({id:[this.indicateur.id],groupe_id:[this.indicateur.groupe_id],code:[this.indicateur.code],intitule:[this.indicateur.intitule],definition:[this.indicateur.definition],mode_de_collecte:[this.indicateur.mode_de_collecte],source_de_donnee:[this.indicateur.source_de_donnee],mode_de_calcule:[this.indicateur.mode_de_calcule]})}onSubmit(){if("new"==this.action){let o=this.indicateurForm.getRawValue();this._indicateurService.add(o).subscribe(n=>{console.log(n),this.matDialogRef.close(this.indicateurForm)},n=>{console.log(n)})}else this._indicateurService.update(this.indicateurForm.getRawValue()).subscribe(o=>{console.log(o),this.matDialogRef.close(this.indicateurForm)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(a.qu),e.Y36(c.WI),e.Y36(c.so),e.Y36(h.U),e.Y36(T.p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-indicateur"]],inputs:{name:"name"},decls:40,vars:20,consts:[["mat-dialog-title",""],[1,"sm:p-6","w-200"],[1,"",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-1/4","pr-1"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","","required","",3,"formControlName"],[1,"w-2/4","pr-1"],[1,"fuse-mat-textarea","flex-auto",3,"ngClass"],["matInput","","matTextareaAutosize","",3,"formControlName","rows"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-button","",3,"disabled","click"],[3,"value"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Groupe"),e.qZA(),e.TgZ(9,"mat-select",6),e.YNc(10,I,2,2,"mat-option",7),e.qZA()(),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Code"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",9)(16,"mat-label"),e._uU(17,"Intitul\xe9"),e.qZA(),e._UZ(18,"input",8),e.qZA()(),e.TgZ(19,"mat-form-field",10)(20,"mat-label"),e._uU(21,"D\xe9finition"),e.qZA(),e._UZ(22,"textarea",11),e.qZA(),e.TgZ(23,"mat-form-field",10)(24,"mat-label"),e._uU(25,"Mode de collecte"),e.qZA(),e._UZ(26,"textarea",11),e.qZA(),e.TgZ(27,"mat-form-field",10)(28,"mat-label"),e._uU(29,"Source de donn\xe9e"),e.qZA(),e._UZ(30,"textarea",11),e.qZA(),e.TgZ(31,"mat-form-field",10)(32,"mat-label"),e._uU(33,"Mode de calcule"),e.qZA(),e._UZ(34,"textarea",11),e.qZA()()()(),e.TgZ(35,"mat-dialog-actions",12)(36,"button",13),e._uU(37,"Annuler"),e.qZA(),e.TgZ(38,"button",14),e.NdJ("click",function(){return n.onSubmit()}),e._uU(39),e.qZA()()),2&o&&(e.xp6(1),e.Oqu("new"==n.action?"Ajouter un indicateur":"Modifier l'indicateur "+n.indicateur.intitule),e.xp6(2),e.Q6J("formGroup",n.indicateurForm),e.xp6(6),e.Q6J("formControlName","groupe_id"),e.xp6(1),e.Q6J("ngForOf",n.listeGroupe),e.xp6(4),e.Q6J("formControlName","code"),e.xp6(4),e.Q6J("formControlName","intitule"),e.xp6(1),e.Q6J("ngClass",n.formFieldHelpers),e.xp6(3),e.Q6J("formControlName","definition")("rows",3),e.xp6(1),e.Q6J("ngClass",n.formFieldHelpers),e.xp6(3),e.Q6J("formControlName","mode_de_collecte")("rows",3),e.xp6(1),e.Q6J("ngClass",n.formFieldHelpers),e.xp6(3),e.Q6J("formControlName","source_de_donnee")("rows",3),e.xp6(1),e.Q6J("ngClass",n.formFieldHelpers),e.xp6(3),e.Q6J("formControlName","mode_de_calcule")("rows",3),e.xp6(4),e.Q6J("disabled",!n.indicateurForm.valid),e.xp6(1),e.hij(" ","new"==n.action?"Enregister":"Modifier",""))},directives:[c.uh,c.xY,a._Y,a.JL,a.sg,s.KE,s.hX,A.gD,a.Q7,a.JJ,a.u,m.sg,v.ey,g.Nt,a.Fj,m.mk,c.H8,C.lW,c.ZT],styles:[""]}),t})();var p=l(4521),w=l(5245),U=l(7238);function b(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," No. "),e.qZA())}function N(t,i){if(1&t&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij("",o.id," ")}}function D(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," Intitul\xe9 "),e.qZA())}function J(t,i){if(1&t&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.intitule,"")}}function Y(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," D\xe9finition "),e.qZA())}function Q(t,i){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&t){const o=i.$implicit;e.s9C("matTooltip",o.definition),e.xp6(1),e.hij("",e.Dn7(2,2,o.definition,0,100),"...")}}function q(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," Mode de collecte "),e.qZA())}function y(t,i){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&t){const o=i.$implicit;e.s9C("matTooltip",o.mode_de_collecte),e.xp6(1),e.hij(" ",e.Dn7(2,2,o.mode_de_collecte,0,100),"... ")}}function F(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," Source de donn\xe9e "),e.qZA())}function S(t,i){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&t){const o=i.$implicit;e.s9C("matTooltip",o.source_de_donnee),e.xp6(1),e.hij("",e.Dn7(2,2,o.source_de_donnee,0,100),"...")}}function M(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," Mode de calcule "),e.qZA())}function j(t,i){if(1&t&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&t){const o=i.$implicit;e.s9C("matTooltip",o.mode_de_calcule),e.xp6(1),e.hij(" ",e.Dn7(2,2,o.mode_de_calcule,0,100),"... ")}}function k(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," Creation"),e.qZA())}function B(t,i){if(1&t&&(e.TgZ(0,"td",34),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,o.created_at,"dd/MM/YYYY")," ")}}function H(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1," Actions "),e.qZA())}function R(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"td",36)(1,"button",37),e.NdJ("click",function(){const d=e.CHM(o).$implicit;return e.oxw().editer(d)}),e._UZ(2,"mat-icon",38),e.qZA(),e.TgZ(3,"button",37),e.NdJ("click",function(){const d=e.CHM(o).$implicit;return e.oxw().supprimer(d)}),e._UZ(4,"mat-icon",39),e.qZA()()}}function E(t,i){1&t&&e._UZ(0,"tr",40)}function L(t,i){1&t&&e._UZ(0,"tr",41)}const O=function(){return["/indicateur"]};let $=(()=>{class t{constructor(o,n){this._matDialog=o,this._indicateurService=n,this.searchControl=new a.NI,this.showMore={},this.dataSource=new r.by,this.displayedColumns=["id","intitule","definition","mode_de_collecte","source_de_donnee","mode_de_calcule","creation","actions"]}recherche(o){o=(o=o.trim()).toLowerCase(),this.dataSource.filter=o}ngOnInit(){this._updateDataSource()}_updateDataSource(){this._indicateurService.getAll().subscribe(o=>{this.dataSource.data=o,console.log(o)})}editer(o){this.dialogRef=this._matDialog.open(Z,{disableClose:!0,panelClass:"",data:{indicateur:o,action:"edit"}}),this.dialogRef.afterClosed().subscribe(n=>{!n||this._updateDataSource()})}ajouter(){this.dialogRef=this._matDialog.open(Z,{disableClose:!0,panelClass:"",data:{indicateur:{},action:"new"}}),this.dialogRef.afterClosed().subscribe(o=>{!o||this._updateDataSource()})}supprimer(){}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.uw),e.Y36(h.U))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-indicateur"]],decls:52,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","pr-6","pl-6","pt-1","pb-1","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLinkActive","router-link-active",1,"whitespace-nowrap","text-primary-500",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-default-500"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","w-full","min-w-0"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-1/3"],["matInput","",3,"formControl","placeholder","ngModelChange"],[1,"w-2/3","text-right","items-center"],["mat-stroked-button","",1,"shadow","rounded-2xl","overflow-hidden","cursor-pointer","mt-2","ml-2","bg-card","bg-red-900",3,"click"],["svgIcon","iconsmind:add",2,"color","white"],[1,"ml-0","cursor-pointer",2,"color","white"],["mat-table","",1,"mat-elevation-z1","w-full",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","intitule"],["matColumnDef","definition"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","mode_de_collecte"],["matColumnDef","source_de_donnee"],["matColumnDef","mode_de_calcule"],["matColumnDef","creation"],["matColumnDef","actions"],["mat-cell","","class","text-justify",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],["mat-cell","",1,"text-justify"],["mat-icon-button","",1,"hidden","sm:inline-flex","ml-3",3,"click"],["svgIcon","heroicons_solid:pencil"],["svgIcon","heroicons_solid:x"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Indicateur"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Indicateur"),e.qZA()()()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),e._uU(17,"Rechercher"),e.qZA(),e.TgZ(18,"input",13),e.NdJ("ngModelChange",function(d){return n.recherche(d)}),e.qZA()(),e.TgZ(19,"div",14)(20,"button",15),e.NdJ("click",function(){return n.ajouter()}),e._UZ(21,"mat-icon",16),e._uU(22," \xa0 "),e.TgZ(23,"label",17),e._uU(24,"Ajouter"),e.qZA()()()(),e.TgZ(25,"table",18),e.ynx(26,19),e.YNc(27,b,2,0,"th",20),e.YNc(28,N,2,1,"td",21),e.BQk(),e.ynx(29,22),e.YNc(30,D,2,0,"th",20),e.YNc(31,J,2,1,"td",21),e.BQk(),e.ynx(32,23),e.YNc(33,Y,2,0,"th",20),e.YNc(34,Q,3,6,"td",24),e.BQk(),e.ynx(35,25),e.YNc(36,q,2,0,"th",20),e.YNc(37,y,3,6,"td",24),e.BQk(),e.ynx(38,26),e.YNc(39,F,2,0,"th",20),e.YNc(40,S,3,6,"td",24),e.BQk(),e.ynx(41,27),e.YNc(42,M,2,0,"th",20),e.YNc(43,j,3,6,"td",24),e.BQk(),e.ynx(44,28),e.YNc(45,k,2,0,"th",20),e.YNc(46,B,3,4,"td",21),e.BQk(),e.ynx(47,29),e.YNc(48,H,2,0,"th",20),e.YNc(49,R,5,0,"td",30),e.BQk(),e.YNc(50,E,1,0,"tr",31),e.YNc(51,L,1,0,"tr",32),e.qZA()()()()()),2&o&&(e.xp6(5),e.Q6J("routerLink",e.DdM(7,O)),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(10),e.Q6J("formControl",n.searchControl)("placeholder","Search for a page or a contact"),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns))},directives:[p.yS,p.Od,w.Hw,s.KE,s.hX,g.Nt,a.Fj,a.JJ,a.oH,C.lW,r.BZ,r.w1,r.fO,r.ge,r.Dz,r.ev,U.gM,r.as,r.XQ,r.nj,r.Gk],pipes:[m.OU,m.uU],styles:[".text[_ngcontent-%COMP%]{display:-webkit-box;max-width:300px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}"]}),t})();var G=l(7694);const z=[{path:"",component:$}];let X=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,p.Bz.forChild(z),G.m]]}),t})()}}]);