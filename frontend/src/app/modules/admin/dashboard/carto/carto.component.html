<div class="flex flex-col flex-auto min-w-0">
<!-- Default icon -->
<ng-template #defaultIconTpl>
    <mat-icon [svgIcon]="'heroicons_outline:arrows-expand'"></mat-icon>
</ng-template>
    <!-- Main -->
    <div class="flex flex-col flex-auto items-center p-6 sm:p-10">
        <div class="flex flex-col w-full">

            <div class="flex mt-2 text-4xl sm:text-2xl font-extrabold tracking-tight leading-tight">
                <div class="flex w-1/3 text-right" style="align-self:center"></div>

                <div class="flex w-1/3 text-right" style="align-self:center">

                    <mat-form-field class="w-full">
                        <mat-select [panelClass]="'h-auto max-h-none'" [formControl]="regrouperParForm">
                            <mat-select-trigger class="text-md">
                                <span>Site :</span>
                                <span class="ml-1 font-medium">{{afficherLibelleSite}}</span>
                            </mat-select-trigger>
                            <ng-container *ngFor="let option of optionsGroup">
                                <mat-option class="h-auto py-4 leading-none" [value]="option" (click)="optionClick(option)">
                                    <div class="font-medium">{{option.label}}</div>
                                    <div class="mt-1.5 text-sm whitespace-normal leading-normal text-secondary">{{option.description}}</div>
                                </mat-option>
                            </ng-container>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <div class="mt-6 sm:mt-6 pb-7 sm:p-1 sm:pb-7 shadow rounded-2xl bg-card" *ngIf="geoJSON!=null && isRefresh">
                <div class="flex flex-col flex-auto">
                    <div class="flex w-full">
                            <highcharts-chart *ngIf="isRefresh" id="container" [Highcharts]="Highcharts" [constructorType]="chartConstructor" [options]="chartOptions" style="width: 100%; height: 90vh; display: block;">
                            </highcharts-chart>
                            <button
                            mat-icon-button
                            [matTooltip]="tooltip || 'Toggle Fullscreen'"
                            (click)="toggleFullscreen()">
                            <ng-container [ngTemplateOutlet]="iconTpl || defaultIconTpl"></ng-container>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="mt-6 sm:mt-6 p-6 pb-7 sm:p-10 sm:pb-7 shadow rounded-2xl bg-card" *ngIf="geoJSON!=null && isRefresh">
                <div class="flex flex-col flex-auto p-6">
                    <div class="flex w-full">
                
                            <table mat-table [dataSource]="dataSource" class="mat-elevation-z1 w-full">
                                <ng-container matColumnDef="code">
                                    <th mat-header-cell *matHeaderCellDef> Code. </th>
                                    <td mat-cell *matCellDef="let element" style="cursor:pointer">{{element.code}} </td>
                                </ng-container>
                                <ng-container matColumnDef="name">
                                    <th mat-header-cell *matHeaderCellDef> Numero </th>
                                    <td mat-cell *matCellDef="let element" style="cursor:pointer">{{element.name}} </td>
                                </ng-container>
                                <ng-container matColumnDef="contenance">
                                    <th mat-header-cell *matHeaderCellDef> Contenance </th>
                                    <td mat-cell *matCellDef="let element" style="cursor:pointer">{{element.contenance}} </td>
                                </ng-container>
                                <ng-container matColumnDef="typeLogement">
                                    <th mat-header-cell *matHeaderCellDef> Type Logement </th>
                                    <td mat-cell *matCellDef="let element" style="cursor:pointer">{{element.typeLogement}} </td>
                                </ng-container>
                
                                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                <tr mat-row *matRowDef="let element;let row; columns: displayedColumns;"></tr>
                            </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>